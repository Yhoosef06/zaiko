var csrfToken=$('meta[name="csrf-token"]').attr("content");function updateItemQuantity(e,t){var n=$("#item_id_"+t).val(),o=$("#order_item_id_"+t).val();console.log(n),console.log(e),$.ajax({url:"{{ route('updateQuantity') }}",method:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:{quantity:e,itemId:n,orderItemId:o},success:function(e){console.log(e)},error:function(e,t,n){console.error(n)}})}function borrowUpdateItemQuantity(e,t){var n=$("#borrow_item_id_"+t).val(),o=$("#borrow_order_item_id_"+t).val();console.log(n),console.log(e),$.ajax({url:"{{ route('updateQuantity') }}",method:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:{quantity:e,itemId:n,orderItemId:o},success:function(e){console.log(e)},error:function(e,t,n){console.error(n)}})}$(function(){$("#borrowed").DataTable({responsive:!0,lengthChange:!1,autoWidth:!1}),$("#admin-pending").DataTable({responsive:!0,lengthChange:!1,autoWidth:!1}),$("#user-pending").DataTable({responsive:!0,lengthChange:!1,autoWidth:!1}),$("#returned").DataTable({responsive:!0,lengthChange:!1,autoWidth:!1}),$("#listofitems").DataTable({responsive:!0,lengthChange:!1,autoWidth:!1}),$("#listofusers").DataTable({responsive:!0,lengthChange:!1,autoWidth:!1})}),$(document).ready(function(){$(document).on("click","#btn-return",function(){var e=$(this).attr("data-id"),t=$(this).attr("data-serial");$("#idreturn").val(e),$("#serialreturn").val(t)})}),$(document).ready(function(){$("#idNumber").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchUser') }}",dataType:"json",data:{query:e.term},success:function(e){t(e)}})},appendTo:"#user_id_container",open:function(e,t){$("#user_id_container .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",label:"No matching ID numbers found"})},select:function(e,t){if(""===t.item.value)e.preventDefault();else{var n="/check-userID/"+t.item.value;$.ajax({url:n,type:"GET",success:function(e){e.exists?(Swal.fire(t.item.lastName+", "+t.item.firstName,"Has already pending borrowing. Please go to the pending table to update. Thank you.","error"),$("#idNumber").val("")):($("#search-serial-desc").show(),$("#student_id").val(t.item.value))},error:function(e){console.log(e.responseText)}})}}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.label+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+" "+t.lastName+", "+t.firstName+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_item").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchItem') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#search-item",open:function(e,t){$("#search-item .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){if(""===t.item.value)e.preventDefault();else if(t.item.serialNumber&&"N/A"!==t.item.serialNumber){var n=$("#student_id").val(),o=t.item.id,r=t.item.serialNumber;$.ajax({url:"{{ route('pendingBorrow') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:{userID:n,itemId:o,serialNumber:r},success:function(e){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/borrow-item/"+n},error:function(e){console.log(e.responseText)}})}else{var n=$("#student_id").val(),o=t.item.id,i="/add-item/"+o;$.ajax({url:i,type:"GET",success:function(e){$("#showNotAddedTable").show();var t=$("<tr>");$('<td class="d-none">').text(n).appendTo(t),$('<td class="d-none">').text(e.id).appendTo(t),$("<td>").text(e.brand).appendTo(t),$("<td>").text(e.model).appendTo(t),$("<td>").text(e.description).appendTo(t),$("<td>").text(e.serial_number).appendTo(t);var o=$("<input>").attr("type","number").attr("max",e.available_quantity).val(e.available_quantity);$("<td>").append(o).appendTo(t);var r=$("<td>"),i=$('<button class="btn btn-success">').text("Add").appendTo(r),a=$('<button class="btn btn-danger">').text("Cancel").appendTo(r);t.append(r),t.appendTo("#notAdded tbody"),o.on("input",function(){var e=parseInt($(this).val()),t=parseInt($(this).attr("max"));e>t&&(Swal.fire("Quantity cannot exceed "+t,"Try input "+t+" or below.","question"),$(this).val(t))}),i.on("click",function(){var e=$(this).closest("tr").find("td:nth-child(1)").text(),t=$(this).closest("tr").find("td:nth-child(2)").text(),n=$(this).closest("tr").find("td:nth-child(3)").text(),o=$(this).closest("tr").find("td:nth-child(4)").text(),r=$(this).closest("tr").find("td:nth-child(5)").text(),i=$(this).closest("tr").find("td:nth-child(6)").text(),a=$(this).closest("tr").find("input").val(),s={userId:e,itemId:t,brand:n,model:o,description:r,serial:i,quantity:a};console.log(s),$.ajax({url:"{{ route('adminAddedOrder') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:s,success:function(t){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/borrow-item/"+e},error:function(e){console.log(e.responseText)}})}),a.on("click",function(){t.remove(),$("#showNotAddedTable").hide()})},error:function(e){console.log(e.responseText)}})}}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#admin_search_item").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchItemAdmin') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#search-item-admin-added",open:function(e,t){$("#search-item-admin-added .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){if(""===t.item.value)e.preventDefault();else if(t.item.serialNumber&&"N/A"!==t.item.serialNumber){var n=$("#student_id_added").val(),o=t.item.id,r=t.item.serialNumber;$.ajax({url:"{{ route('pendingBorrow') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:{userID:n,itemId:o,serialNumber:r},success:function(e){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/borrow-item/"+n.trim()},error:function(e){console.log(e.responseText)}})}else{var n=$("#student_id_added").val(),o=t.item.id,i="/add-item/"+o;$.ajax({url:i,type:"GET",success:function(e){$("#showNotAddedAdmin").show();var t=$("<tr>");$('<td class="d-none">').text(n).appendTo(t),$('<td class="d-none">').text(e.id).appendTo(t),$("<td>").text(e.brand).appendTo(t),$("<td>").text(e.model).appendTo(t),$("<td>").text(e.description).appendTo(t);var o=$("<input>").attr("type","number").attr("max",e.available_quantity).val(e.available_quantity);$("<td>").append(o).appendTo(t);var r=$("<td>"),i=$('<button class="btn btn-success">').text("Add").appendTo(r),a=$('<button class="btn btn-danger">').text("Cancel").appendTo(r);t.append(r),t.appendTo("#notAddedAdmin tbody"),o.on("input",function(){var e=parseInt($(this).val()),t=parseInt($(this).attr("max"));e>t&&(Swal.fire("Quantity cannot exceed "+t,"Try input "+t+" or below.","question"),$(this).val(t))}),i.on("click",function(){var e=$(this).closest("tr").find("td:nth-child(1)").text(),t=$(this).closest("tr").find("td:nth-child(2)").text(),n=$(this).closest("tr").find("td:nth-child(3)").text(),o=$(this).closest("tr").find("td:nth-child(4)").text(),r=$(this).closest("tr").find("td:nth-child(5)").text(),i=$(this).closest("tr").find("td:nth-child(6)").text(),a=$(this).closest("tr").find("input").val(),s={userId:e,itemId:t,brand:n,model:o,description:r,serial:i,quantity:a};$.ajax({url:"{{ route('adminAddedOrder') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:s,success:function(t){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/borrow-item/"+e.trim()},error:function(e){console.log(e.responseText)}})}),a.on("click",function(){t.remove(),$("#showNotAddedAdmin").hide()})},error:function(e){console.log(e.responseText)}})}}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_1").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_1",open:function(e,t){$("#user_serial_1 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_1").val(t.item.serialNumber),$("#itemID_1").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_2").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_2",open:function(e,t){$("#user_serial_2 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_2").val(t.item.serialNumber),$("#itemID_2").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_3").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_3",open:function(e,t){$(".user_serial .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_3").val(t.item.serialNumber),$("#itemID_3").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_4").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_4",open:function(e,t){$("#user_serial_4 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_4").val(t.item.serialNumber),$("#itemID_4").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_5").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_5",open:function(e,t){$("#user_serial_5 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_5").val(t.item.serialNumber),$("#itemID_5").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_6").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_6",open:function(e,t){$("#user_serial_6 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_6").val(t.item.serialNumber),$("#itemID_2").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_7").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_7",open:function(e,t){$("#user_serial_7 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_7").val(t.item.serialNumber),$("#itemID_7").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_8").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_8",open:function(e,t){$("#user_serial_8 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_8").val(t.item.serialNumber),$("#itemID_8").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_9").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_9",open:function(e,t){$("#user_serial_9 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_9").val(t.item.serialNumber),$("#itemID_9").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_10").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_10",open:function(e,t){$("#user_serial_10 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_10").val(t.item.serialNumber),$("#itemID_10").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_11").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_11",open:function(e,t){$("#user_serial_11 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_11").val(t.item.serialNumber),$("#itemID_11").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#search_for_serial_12").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchForSerial') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#user_serial_12",open:function(e,t){$("#user_serial_12 .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){""===t.item.value?e.preventDefault():(e.preventDefault(),$("#search_for_serial_12").val(t.item.serialNumber),$("#itemID_12").val(t.item.itemID))}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#searchItemAdmin").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchItemForAdmin') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#search-item-admin-to-borrow",open:function(e,t){$("#search-item-admin-to-borrow .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){if(""===t.item.value)e.preventDefault();else if(e.preventDefault(),t.item.serialNumber&&"N/A"!==t.item.serialNumber){var n=$("#student_id_added_admin").val(),o=t.item.id,r=t.item.serialNumber;$.ajax({url:"{{ route('pendingBorrow') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:{userID:n,itemId:o,serialNumber:r},success:function(e){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/view-order-admin/"+n.trim()},error:function(e){console.log(e.responseText)}})}else{var n=$("#student_id_added_admin").val(),o=t.item.id,i="/add-item/"+o;$.ajax({url:i,type:"GET",success:function(e){$("#viewOrderAdminShowTable").show();var t=$("<tr>");$('<td class="d-none">').text(n).appendTo(t),$('<td class="d-none">').text(e.id).appendTo(t),$("<td>").text(e.brand).appendTo(t),$("<td>").text(e.model).appendTo(t),$("<td>").text(e.description).appendTo(t);var o=$("<input>").attr("type","number").attr("max",e.available_quantity).val(e.available_quantity);$("<td>").append(o).appendTo(t);var r=$("<td>"),i=$('<button class="btn btn-success">').text("Add").appendTo(r),a=$('<button class="btn btn-danger">').text("Cancel").appendTo(r);t.append(r),t.appendTo("#orderAdmin tbody"),o.on("input",function(){var e=parseInt($(this).val()),t=parseInt($(this).attr("max"));e>t&&(Swal.fire("Quantity cannot exceed "+t,"Try input "+t+" or below.","question"),$(this).val(t))}),i.on("click",function(){var e=$(this).closest("tr").find("td:nth-child(1)").text(),t=$(this).closest("tr").find("td:nth-child(2)").text(),n=$(this).closest("tr").find("td:nth-child(3)").text(),o=$(this).closest("tr").find("td:nth-child(4)").text(),r=$(this).closest("tr").find("td:nth-child(5)").text(),i=$(this).closest("tr").find("td:nth-child(6)").text(),a=$(this).closest("tr").find("input").val(),s={userId:e,itemId:t,brand:n,model:o,description:r,serial:i,quantity:a};$.ajax({url:"{{ route('adminAddedOrder') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:s,success:function(t){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/view-order-admin/"+e.trim()},error:function(e){console.log(e.responseText)}})}),a.on("click",function(){t.remove(),$("#viewOrderAdminShowTable").hide()})},error:function(e){console.log(e.responseText)}})}}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#searchItemUser").autocomplete({minLength:2,source:function(e,t){$.ajax({url:"{{ route('searchItemForUser') }}",dataType:"json",data:{query:e.term},success:function(e){console.log(e),t(e)}})},appendTo:"#search-item-user-to-borrow",open:function(e,t){$("#search-item-user-to-borrow .ui-autocomplete").css("top","auto")},response:function(e,t){t.content.length||t.content.push({value:"",brand:"No matching Serial Numbers and Description found",item_category:null,model:null,description:null})},select:function(e,t){if(""===t.item.value)e.preventDefault();else if(t.item.serialNumber&&"N/A"!==t.item.serialNumber){var n=$("#student_id_added_user").val(),o=t.item.id,r=t.item.serialNumber;$.ajax({url:"{{ route('userPendingBorrow') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:{userID:n,itemId:o,serialNumber:r},success:function(e){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/view-order-user/"+n.trim()},error:function(e){console.log(e.responseText)}})}else{var n=$("#student_id_added_user").val(),o=t.item.id;console.log(n);var i="/add-item/"+o;$.ajax({url:i,type:"GET",success:function(e){$("#viewOrderUserShowTable").show();var t=$("<tr>");$('<td class="d-none">').text(n).appendTo(t),$('<td class="d-none">').text(e.id).appendTo(t),$("<td>").text(e.brand).appendTo(t),$("<td>").text(e.model).appendTo(t),$("<td>").text(e.description).appendTo(t);var o=$("<input>").attr("type","number").attr("max",e.available_quantity).val(e.available_quantity);$("<td>").append(o).appendTo(t);var r=$("<td>"),i=$('<button class="btn btn-success">').text("Add").appendTo(r),a=$('<button class="btn btn-danger">').text("Cancel").appendTo(r);t.append(r),t.appendTo("#orderUser tbody"),o.on("input",function(){var e=parseInt($(this).val()),t=parseInt($(this).attr("max"));e>t&&(Swal.fire("Quantity cannot exceed "+t,"Try input "+t+" or below.","question"),$(this).val(t))}),i.on("click",function(){var e=$(this).closest("tr").find("td:nth-child(1)").text(),t=$(this).closest("tr").find("td:nth-child(2)").text(),n=$(this).closest("tr").find("td:nth-child(3)").text(),o=$(this).closest("tr").find("td:nth-child(4)").text(),r=$(this).closest("tr").find("td:nth-child(5)").text(),i=$(this).closest("tr").find("td:nth-child(6)").text(),a=$(this).closest("tr").find("input").val(),s={userId:e,itemId:t,brand:n,model:o,description:r,serial:i,quantity:a};$.ajax({url:"{{ route('userNewOrder') }}",type:"POST",headers:{"X-CSRF-TOKEN":csrfToken},data:s,success:function(t){Swal.fire({position:"top-end",icon:"success",title:"Successfully Added",showConfirmButton:!1,timer:1500}),window.location.href="/view-order-user/"+e.trim()},error:function(e){console.log(e.responseText)}})}),a.on("click",function(){t.remove(),$("#viewOrderUserShowTable").hide()})},error:function(e){console.log(e.responseText)}})}}}).autocomplete("instance")._renderItem=function(e,t){return""===t.value?$("<li>").append("<div>"+t.brand+"</div>").appendTo(e):$("<li>").append("<div>"+t.value+"</div>").appendTo(e)}}),$(document).ready(function(){$("#submitForm").submit(function(e){e.preventDefault();var t=$(this).serialize();Swal.fire({title:"Are you sure?",text:"You won't be able to make changes again!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(e=>{e.isConfirmed&&$.ajax({url:"{{ route('submitAdminBorrow') }}",type:"POST",data:t,success:function(e){e.success?(Swal.fire("Success","Successfully Borrowed","success"),window.location.href="{{ url('pending') }}"):e.error&&Swal.fire("Error","Date Not Provided","error")},error:function(e,t,n){console.log(e.responseText)}})})})}),$(document).ready(function(){$("#submitFormUser").submit(function(e){e.preventDefault();var t=$(this).serialize();Swal.fire({title:"Are you sure?",text:"You won't be able to make changes again!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(e=>{e.isConfirmed&&$.ajax({url:"{{ route('submitUserBorrow') }}",type:"POST",data:t,success:function(e){e.success?(Swal.fire("Success","Successfully Borrowed","success"),window.location.href="{{ url('pending') }}"):e.error&&Swal.fire("Error","Date Not Provided","error")},error:function(e,t,n){console.log(e.responseText)}})})})}),$(document).ready(function(){$(".show-alert-delete-user").click(function(e){var t=$(this).closest("form");e.preventDefault(),Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&t.submit()})}),$(".show-alert-delete-item").click(function(e){var t=$(this).closest("form");e.preventDefault(),Swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&t.submit()})})}),$(document).ready(function(){$("#submitAdmin").submit(function(e){e.preventDefault();var t=$(this).serialize();Swal.fire({title:"Are you sure?",text:"You won't be able to make changes again!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, submit it!"}).then(e=>{e.isConfirmed&&$.ajax({url:"{{ route('submitAdminBorrow') }}",type:"POST",data:t,success:function(e){e.success?(Swal.fire("Success","Successfully Borrowed","success"),window.location.href="{{ url('pending') }}"):e.error&&Swal.fire("Error","Date Not Provided","error")},error:function(e,t,n){console.log(e.responseText)}})})})});